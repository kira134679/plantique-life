.cart-nav {
  --cart-step: 40px;
  --cart-progress-height: 1px;
  @include media-breakpoint-up(lg) {
    --cart-step: 56px;
    --cart-progress-height: 2px;
  }
  .cart-step {
    width: var(--cart-step);
    height: var(--cart-step);
    position: relative;
  }
  .nav-link {
    text-align: start;
    pointer-events: none;
    padding: 0;
    position: relative;
    .cart-step {
      transition:
        font-size 0.6s,
        color 0.6s,
        background-color 0.6s,
        border-color 0.6s;
    }
    .cart-step::before {
      content: '\e5ca';
      font-family: 'Material Symbols Rounded';
      font-size: map-get($font-sizes, 4);
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0);
      transition: transform 0.8s;
      @include media-breakpoint-up(lg) {
        font-size: map-get($font-sizes, 2);
      }
    }
    .cart-progress {
      position: absolute;
      top: calc(var(--cart-step) / 2 - var(--cart-progress-height) / 2);
      height: var(--cart-progress-height);
      background-color: $border-color;
      width: calc(100% - var(--cart-step));
      left: calc(50% + var(--cart-step) / 2);
    }
    .cart-progress::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 0;
      height: var(--cart-progress-height);
      background-color: $primary;
      transition: width 0.6s linear;
    }
  }
  .nav-link.active {
    background: none;
    color: initial;
  }
  .nav-link.step-completed {
    .cart-progress::before {
      width: 100%;
    }
  }
  .nav-link.step-active,
  .nav-link.step-completed {
    .cart-step {
      background-color: $primary !important;
      border-color: $primary !important;
      color: $white !important;
    }
  }
  .nav-link.step-completed {
    .cart-step {
      font-size: 0 !important;
    }
    .cart-step::before {
      transform: translate(-50%, -50%) scale(1);
    }
  }
}

.cart-product-img {
  height: 233px;
  @include media-breakpoint-up(lg) {
    height: 269px;
  }
}
.cart-product-img.add-on {
  height: 160px;
}
.cart-product-quantity {
  min-width: 41px;
  @include media-breakpoint-up(lg) {
    min-width: 28px;
  }
}
.cart-product-btn {
  width: 36px;
  height: 36px;
  @include media-breakpoint-up(lg) {
    width: 40px;
    height: 40px;
  }
}

.cart-list li:not(:last-child) {
  margin-bottom: map-get($spacers, 6);
}

.coupon-selected-name.selected {
  color: $secondary !important;
  background-color: $secondary-100 !important;
}
.coupon-modal {
  .modal-dialog {
    --bs-modal-margin: calc(var(--bs-gutter-x) * 0.5);
    --bs-modal-width: 416px;
  }
  .modal-content {
    max-height: 600px;
  }
}
.coupon-modal-list > li:not(:last-child) {
  margin-bottom: map-get($spacers, 4);
}
.coupon-layout {
  height: 96px;
  position: relative;
  & > *:first-child {
    width: 90px;
  }
  &:not(.unselected)::before {
    content: '';
    position: absolute;
    top: 4px;
    bottom: 4px;
    left: -2px;
    border-left: 4px dotted $white;
  }
}
.coupon-select {
  height: 96px;
  position: relative;
  &.unselected::before {
    content: '未選擇優惠券';
    position: absolute;
    inset: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: $font-size-sm;
    color: $neutral-400;
    background-color: $neutral-100;
  }
}

.product-add1-position {
  object-position: 50% 20%;
}
